import { useEffect, useState } from "react";
import { HoverIconProps } from "../../../types";

export const OnnxIcon = ({
  theme,
  cursor,
  cardRef,
  mouseOnCard,
  fill,
}: HoverIconProps) => {
  const [gradientCenter, setGradientCenter] = useState({
    cx: "50%",
    cy: "50%",
  });

  useEffect(() => {
    if (cardRef && cardRef.current && cursor && cursor.x && cursor.y) {
      const cardRect = cardRef.current.getBoundingClientRect();
      const cxPercentage = (cursor.x / cardRect.width) * 100;
      const cyPercentage = (cursor.y / cardRect.width) * 100 + 24;
      setGradientCenter({
        cx: `${cxPercentage}%`,
        cy: `${cyPercentage}%`,
      });
    }
  }, [cursor, cardRef]);

  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      style={{
        width: "60%",
        height: "60%",
        transitionProperty: "all",
        transitionTimingFunction: "cubic-bezier(0.4, 0, 0.2, 1)",
        transitionDuration: "300ms, 200ms",
      }}
    >
      <defs>
        <radialGradient
          id="hoverIconGradient"
          gradientUnits="userSpaceOnUse"
          r="35%"
          cx={gradientCenter.cx}
          cy={gradientCenter.cy}
        >
          {mouseOnCard && <stop stopColor={theme.palette.secondary.main} />}
          <stop offset={1} stopColor={theme.palette.grey[900]} />
        </radialGradient>
      </defs>
      <path
        strokeLinecap="round"
        strokeLinejoin="round"
        stroke={mouseOnCard ? "url(#hoverIconGradient)" : ""}
        style={{ fill: fill }}
        d="M23.0133 11.2946C22.9095 11.3021 22.8245 11.2417 22.7773 11.1473L18.9267 4.02456C18.8776 3.94434 18.8682 3.84524 18.9022 3.75841C18.9699 3.56305 18.9737 3.35117 18.9128 3.15356C18.8519 2.95594 18.7296 2.78289 18.5636 2.65955C18.3976 2.53621 18.1967 2.469 17.9899 2.46769C17.7831 2.46639 17.5813 2.53105 17.4138 2.65229C17.3649 2.69112 17.3076 2.71786 17.2464 2.73033C17.1852 2.74279 17.1219 2.74063 17.0618 2.72402L9.48881 1.20546C9.37178 1.19791 9.27363 1.11108 9.25003 0.99783C8.87913 -0.261183 6.98966 0.323966 7.39549 1.57354C7.43796 1.68302 7.41814 1.80666 7.34453 1.8982L1.33543 10.5188C1.25426 10.6358 1.17498 10.6858 1.05512 10.6415C0.540758 10.5971 0.0811335 10.9642 0.0112932 11.4758C-0.00878573 11.6025 -0.00308851 11.7319 0.0280434 11.8563C0.0591753 11.9808 0.115102 12.0976 0.192473 12.1999C0.269844 12.3023 0.367068 12.3879 0.478321 12.4517C0.589575 12.5156 0.71257 12.5563 0.839939 12.5715C0.957913 12.5753 1.0589 12.6583 1.08532 12.7744L4.31969 20.74C4.35744 20.8249 4.36499 20.9231 4.33856 21.0231C4.06014 21.9339 5.1219 22.6606 5.86938 22.0707C5.90533 22.0406 5.94711 22.0183 5.9921 22.0052C6.03709 21.992 6.08432 21.9883 6.13081 21.9943L15.8754 22.9456C15.9293 22.9441 15.9823 22.9598 16.0267 22.9903C16.0711 23.0208 16.1047 23.0647 16.1227 23.1155C16.6776 24.384 18.5624 23.4081 17.8451 22.2217C17.7847 22.1387 17.7838 22.0264 17.8423 21.9424L22.7594 13.4058C22.7808 13.356 22.817 13.314 22.8631 13.2855C22.9092 13.2569 22.9629 13.2433 23.0171 13.2463C24.3308 13.2614 24.3384 11.2832 23.0142 11.3021L23.0133 11.2946ZM7.96648 3.59985L8.24207 2.41068C8.26472 2.31064 8.29586 2.25024 8.42516 2.24269C8.66866 2.23042 8.89517 2.11244 9.04523 1.91897C9.10563 1.82459 9.217 1.80005 9.31421 1.8378L16.9259 3.3573C16.9466 3.36108 16.9664 3.37146 17.0438 3.40071L14.6485 4.43888L7.42569 7.58453C7.38907 7.60038 7.35226 7.6158 7.31527 7.63077C7.23788 7.66192 7.16426 7.73459 7.07555 7.65908C6.99249 7.5883 7.05384 7.51091 7.07083 7.43824L7.96743 3.58947L7.96648 3.59985ZM7.41908 2.93354L7.45872 2.95997L6.43471 7.34292C6.42056 7.44485 6.34505 7.52884 6.24596 7.55244C6.06308 7.60307 5.90045 7.70928 5.78058 7.85638C5.6607 8.00348 5.58949 8.1842 5.57681 8.37353C5.57775 8.4698 5.52773 8.5604 5.44468 8.60948L2.19994 10.5188C2.17351 10.5282 2.14614 10.5339 2.11877 10.5376L7.41908 2.93354ZM4.8567 20.035C4.84443 20.0954 4.82839 20.1558 4.80951 20.2237L1.70162 12.5809C1.66377 12.5176 1.64823 12.4434 1.65747 12.3702C1.6667 12.297 1.70019 12.229 1.75258 12.177C1.81959 12.1018 1.87022 12.0134 1.90125 11.9175C1.93228 11.8217 1.94304 11.7204 1.93285 11.6202C1.91397 11.4928 1.98664 11.3691 2.10556 11.3219L5.65892 9.22672C5.72499 9.18708 5.79105 9.09648 5.8892 9.18897C5.97698 9.27202 6.09684 9.31166 6.07513 9.48532L5.75613 12.2251L4.85576 20.0416L4.8567 20.035ZM5.96754 20.639C5.87157 20.5192 5.74057 20.4324 5.59286 20.3908C5.50508 20.3625 5.44562 20.3276 5.47488 20.2445L5.7533 17.8152L6.31013 12.9773L6.6952 9.59291C6.71879 9.36923 6.88396 9.37584 7.01609 9.29373C7.14822 9.21162 7.19163 9.33431 7.25203 9.3881L15.3139 16.391C15.4885 16.5722 15.4385 16.8705 15.2148 16.9856L6.22991 20.6928C6.12326 20.7372 6.05059 20.7494 5.96565 20.6399L5.96754 20.639ZM16.4861 21.9131C16.4124 21.9461 16.3502 21.9999 16.3067 22.0679C16.1822 22.3293 15.967 22.2972 15.7405 22.2755L6.41206 21.3553L6.39696 21.3119L7.84473 20.7098L15.4139 17.5858C15.5555 17.5264 15.6442 17.5783 15.7763 17.6236C16.1538 17.7557 16.1614 18.0483 16.1954 18.3569L16.5748 21.6913C16.5861 21.7857 16.5842 21.8584 16.4851 21.9103L16.4861 21.9131ZM16.1652 15.7728C16.1501 15.8917 16.0944 15.9257 16 15.9691C15.9056 16.0126 15.7905 15.9908 15.7244 15.9087L13.7878 14.2241L7.64937 8.8879C7.5771 8.8097 7.52451 8.7154 7.49595 8.61282C7.46739 8.51024 7.46369 8.40233 7.48515 8.29803C7.52668 8.21309 7.62955 8.20365 7.70788 8.16967L17.0202 4.11233C17.1561 4.05099 17.2619 4.01795 17.3666 4.1633C17.4186 4.22485 17.486 4.27144 17.562 4.29826C17.6535 4.33601 17.6913 4.38509 17.6705 4.44643L17.4006 6.50389L16.1755 15.7747L16.1652 15.7728ZM17.2241 21.7045L17.0731 20.4738L16.8013 18.1144C16.7749 17.8973 16.7569 17.718 16.9863 17.5481C17.1082 17.4543 17.2018 17.3285 17.2564 17.1847C17.3111 17.0409 17.3247 16.8847 17.2958 16.7336C17.2864 16.6439 17.2883 16.5873 17.3685 16.5326L21.9279 13.4275C21.9515 13.42 21.9751 13.4143 21.9987 13.4105L17.2241 21.7045ZM22.1771 11.8042C22.1215 11.8831 22.0826 11.9725 22.0628 12.0669C22.043 12.1614 22.0427 12.2589 22.062 12.3535C22.0768 12.4101 22.0716 12.4701 22.0474 12.5234C22.0231 12.5767 21.9813 12.62 21.9289 12.6461L17.0419 15.9937C16.9882 16.0314 16.9438 16.0994 16.8532 16.0484C16.7541 15.9918 16.79 15.9106 16.7994 15.838L18.283 4.6182C18.2944 4.53515 18.3132 4.45398 18.3397 4.31619L19.2221 5.93667L22.1733 11.3946C22.2705 11.5126 22.2734 11.6834 22.179 11.8042H22.1771Z"
      />
    </svg>
  );
};
export default OnnxIcon;
